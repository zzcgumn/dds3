load("//:CPPVARIABLES.bzl", "DDS_CPPOPTS", "DDS_LINKOPTS", "DDS_LOCAL_DEFINES")
load("@rules_cc//cc:defs.bzl", "cc_library")
load("@rules_cc//cc:defs.bzl", "cc_test", "cc_binary")

cc_test(
    name = "heuristic_sorting_test",
    srcs = ["heuristic_sorting_test.cpp"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
    "@googletest//:gtest_main",
    "//library/src/moves:moves",
    ],
)

cc_test(
    name = "integration_test",
    srcs = ["integration_test.cpp"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
        "@googletest//:gtest_main",
    ],
)

cc_binary(
    name = "micro_benchmark",
    srcs = ["micro_benchmark.cpp"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
    ],
)

cc_test(
    name = "minimal_new_test",
    srcs = ["minimal_new_test.cpp"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
        "@googletest//:gtest_main",
    ],
)

cc_test(
    name = "minimal_weight_test",
    srcs = ["minimal_weight_test.cpp"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
        "//library/src:testable_dds",
        "//library/src/data_types:dds_types",
        "@googletest//:gtest_main",
    ],
)

cc_test(
    name = "compare_smoke",
    srcs = ["compare_smoke.cpp", "test_utils.cpp", "test_utils.h"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
        "//library/src/moves:moves",
        "@googletest//:gtest_main",
    ],
    copts = DDS_CPPOPTS,
    local_defines = DDS_LOCAL_DEFINES,
)

cc_test(
    name = "compare_harness",
    srcs = ["compare_harness.cpp", "test_utils.cpp", "test_utils.h"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
        "//library/src/moves:moves",
        "@googletest//:gtest_main",
    ],
    copts = DDS_CPPOPTS,
    local_defines = DDS_LOCAL_DEFINES,
)

cc_test(
    name = "canonical_cases",
    srcs = ["canonical_cases_test.cpp", "test_utils.cpp", "test_utils.h"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
        "//library/src/moves:moves",
        "@googletest//:gtest_main",
    ],
    copts = DDS_CPPOPTS,
    local_defines = DDS_LOCAL_DEFINES,
)

cc_test(
    name = "fuzz_driver",
    srcs = ["fuzz_driver.cpp", "test_utils.cpp", "test_utils.h"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
        "//library/src/moves:moves",
        "@googletest//:gtest_main",
    ],
    copts = DDS_CPPOPTS,
    local_defines = DDS_LOCAL_DEFINES,
)

cc_test(
    name = "targeted_unit_tests",
    srcs = ["targeted_unit_tests.cpp" , "test_utils.cpp", "test_utils.h"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
    "@googletest//:gtest_main",
    "//library/src/moves:moves",
    ],
    copts = DDS_CPPOPTS,
    local_defines = DDS_LOCAL_DEFINES,
)

cc_test(
    name = "expanded_golden_tests",
    srcs = ["expanded_golden_tests.cpp", "test_utils.cpp", "test_utils.h"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
        "//library/src/moves:moves",
        "@googletest//:gtest_main",
    ],
    copts = DDS_CPPOPTS,
    local_defines = DDS_LOCAL_DEFINES,
)

cc_test(
    name = "partner_opponent_tests",
    srcs = ["partner_opponent_tests.cpp", "test_utils.cpp", "test_utils.h"],
    deps = [
        "//library/src/heuristic_sorting:testable_heuristic_sorting",
        "//library/src/moves:moves",
        "@googletest//:gtest_main",
    ],
    copts = DDS_CPPOPTS,
    local_defines = DDS_LOCAL_DEFINES,
)
